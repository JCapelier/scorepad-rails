<div style="background: #f8f8f8; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
  <div>Round <%= round.round_number %> of <%= scoresheet.data["number_of_rounds"] %></div>
  <div>First Player: <%= round.data["first_player"] %></div>
  <div>Starting domino: <%= round.data["starting_domino"] %></div>
  <div>Rules:
    <% rules = round.scoresheet.data.select { |key, value| value.is_a?(Hash) && value["value"] == true } %>
    <% if rules.empty? %>
      <span>Standard</span>
    <% else %>
      <ul>
        <% rules.each do |key, rule| %>
          <li>
            <%= key.humanize %>
            <% if rule["subrules"] %>
              <ul>
                <% rule["subrules"].each do |subkey, subvalue| %>
                  <% if subvalue == true %>
                    <li><%= subkey.humanize %></li>
                  <% end %>
                <% end %>
              </ul>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
</div>
