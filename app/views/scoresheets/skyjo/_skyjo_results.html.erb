<%= render "scoresheets/shared/results_info" %>

<%= render "scoresheets/shared/leaderboard" %>

  <div class="mb-8 flex flex-col items-center w-full">
    <div class="w-full max-w-2xl relative">
      <div class="flex items-center justify-center mb-4">
        <div class="flex flex-col flex-1 items-center">
          <h2 class="text-xl font-bold text-center">Player Stats</h2>
        </div>
      </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full">
        <% ordered_players = @scoresheet.game_session.session_players.sort_by { |sp| sp.data["rank"] || 999 } %>
        <% ordered_players.each do |player| %>
          <%= render partial: "shared/player_stats", locals: { player: player, stats: player.data } %>
        <% end %>
      </div>
      <div class="flex justify-center gap-4 mt-8">
        <a href="<%= new_game_session_path(game_id: @scoresheet.game_session.game.id) %>" class="btn btn-primary">Play again</a>
        <a href="<%= root_path %>" class="btn btn-outline">Back to home</a>
      </div>
    </div>
  </div>
  </div>
</div>
